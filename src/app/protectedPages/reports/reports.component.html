<div class="col-md-10 main">
    <!--Main class Start-->

    <div class="col-md-12 reports p-0">
        <!--Reports Tag Start-->
        <h1 class="h3  text-gray-800 mb-2">Reports</h1>
        <mat-accordion>
            <mat-expansion-panel>
                <mat-expansion-panel-header matRipple>
                    <mat-panel-title>
                        <mat-icon>filter_alt</mat-icon><span class="panel-title">Filter Report</span>
                    </mat-panel-title>
                    <mat-panel-description>
                        {{filterTabButtonName}}
                        <!-- <mat-icon>filter_alt</mat-icon> -->
                    </mat-panel-description>
                </mat-expansion-panel-header>
                <form [formGroup]="form">
                    <!-- <div class="row pt-3 pb-3 m-0 d-flex justify-content-end">
                <button  class="btn btn-primary" type="submit"><i class="fa fa-upload pr-2"></i>Bulk Upload</button>
              </div>  -->
                    <div class="row">

                        <div class="col-4">
                            <div class="form-group">
                                <label for="mobile">Reports</label>
                                <!-- <select class="form-control" (change)="onSelect($event)">
                                <option  value = '0' disabled>--select--</option>
                                <option value="1">Proforma Invoice Raised</option>
                                <option value="2">Purchase Order Raised</option>
                                <option value="3">Invoice Raised</option>
                                <option value="4">Payment Status</option>
                                <option value="5">All</option>
                              </select> -->

                                <app-vf-custom-select (change)="onSelect($event)" formControlName="reports" [values]="reportsList" [isRequired]="'Please Select Reports'"></app-vf-custom-select>
                            </div>
                        </div>

                        <div class="col-4" *ngIf="reportKey <= 4">
                            <div class="form-group" optionValue>
                                <label for="mobile">Status</label>
                                <!-- <select class="form-control">
                                <option value = '0' disabled>--select--</option>
                                <option *ngFor="let val of optionValue">
                                    {{val.key}}
                                </option>
                                
                              </select> -->

                                <app-vf-custom-select formControlName="status" [values]="optionValue" ></app-vf-custom-select>

                            </div>
                        </div>

                        <div class="col-4">
                            <div class="form-group">
                                <label for="mobile">Report Filter</label>
                                <!-- <select class="form-control" (change)="onRepFilter($event)">
                                <option  value = '0' disabled>--select--</option>
                                <option value="1">User Id</option>
                                <option value="2">Department</option>
                                <option value="3">Status</option> -->
                                <!-- </select> -->
                                <app-vf-custom-select formControlName="reportFilter" (change)="onRepFilter($event)" [values]="reportFilter" [isRequired]="'Please Select ReportFilter'"></app-vf-custom-select>

                            </div>
                        </div>

                        <div class="col-4" *ngIf="isDepartment">
                            <div class="form-group">

                                <label for="mobile">State</label>
                                <!-- <select class="form-control">
                                <option value = '0' disabled>--select--</option>
                                <option *ngFor="let val of states">
                                    {{val.key}}
                                </option>
                                
                              </select> -->

                                <app-vf-custom-select formControlName="state" [values]="states" [isRequired]="'Please Select State'"></app-vf-custom-select>


                            </div>
                        </div>

                        <!-- <div class="col-4">
                            <label for="dateFor" class="" style="visibility:hidden;margin-bottom: 0px;">From Date</label>
                            <mat-form-field class="example-full-width p-0 mt-2" style="margin-top: 12px !important;">
                                <input type="text" [placeholder]="placeholderData" aria-label="Number" matInput [formControl]="myControl" [matAutocomplete]="auto">
                                <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                    <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                                        {{option}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>

                        </div> -->


                        <div class="col-4" *ngIf = "accountFilterFlag">
                            <label for="mobile">Account Name</label>
                            <div class="form-group">
                            <ng-multiselect-dropdown
                            [placeholder]="'Choose Account'"
                            formControlName ="accountFilter"
                            [data]="options"
                            [settings]="dropdownSettings"
                            (onSelectAll)="onSelectAll('1')"
                            (onDeSelect) = "onItemDeSelect('1')"
                            (onDeSelectAll) = "onItemDeSelect('1')"
                            >
                            </ng-multiselect-dropdown>
                        </div>
                        </div>

                        <div class="col-4" *ngIf = "projectNoFilterFlag">
                            <label for="mobile">Project No</label>
                            <div class="form-group">
                            <ng-multiselect-dropdown
                            [placeholder]="'Choose project no'"
                            formControlName ="projectNoFilter"
                            [data]="projectNoDropDownList"
                            [settings]="dropdownSettings"
                            (onSelectAll)="onSelectAll('2')"
                            (onDeSelect) = "onItemDeSelect('2')"
                            (onDeSelectAll) = "onItemDeSelect('2')"
                            >
                            </ng-multiselect-dropdown>
                        </div>
                            </div>


                        <div class="col-4" *ngIf = "departMentFilterFlag">
                            <label for="">Department</label>
                            <div class="form-group">
                                <ng-multiselect-dropdown
                                [placeholder]="'Choose Department'"
                                formControlName ="departMentFilter"
                                [data]="departMentDropDownList"
                                [settings]="dropdownSettings"
                                (onSelectAll)="onSelectAll('3')"
                                (onDeSelect) = "onItemDeSelect('3')"
                                (onDeSelectAll) = "onItemDeSelect('3')"
                                >
                                </ng-multiselect-dropdown>
                            </div>
                        </div>

                        <div class="col-4" *ngIf = "stateFilterFlag">
                            <label for="">State</label>
                            <div class="form-group">
                                <ng-multiselect-dropdown
                                [placeholder]="'Choose State'"
                                formControlName ="stateFilter"
                                [data]="stateDropDownList"
                                [settings]="dropdownSettings"
                                (onSelectAll)="onSelectAll()"
                                (onDeSelect) = "onItemDeSelect('4')"
                                (onDeSelectAll) = "onItemDeSelect('4')"
                                >
                                </ng-multiselect-dropdown>
                            </div>
                        </div>


                        <div class="col-4">
                            <div class="form-group">
                                <label for="invoiceDate">From Date</label>
                                <!-- <input type="date" class="form-control" id="invoiceDate" aria-describedby="invoiceDateHelp">
                                <small id="invoiceDateHelp" class="form-text text-muted"></small> -->

                                <mat-form-field>
                                    <input matInput [matDatepicker]="picker1" (dateInput)="formDateFunc($event.value)" formControlName="fromDate" [max]="form.get('toDate').value">
                                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                    <mat-datepicker #picker1></mat-datepicker>
                                </mat-form-field>

                            </div>
                        </div>
                        <div class="col-4">
                            <div class="form-group">
                                <label for="invoiceDate">To Date</label>
                                <!-- <input type="date" class="form-control" id="invoiceDate" aria-describedby="invoiceDateHelp">
                                <small id="invoiceDateHelp" class="form-text text-muted"></small> -->
                                <mat-form-field>
                                    <input matInput [matDatepicker]="picker2" (dateInput)="formDateFunc($event.value)" [min]="form.get('fromDate').value" formControlName="toDate">
                                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                    <mat-datepicker #picker2></mat-datepicker>
                                </mat-form-field>

                            </div>
                        </div>

                        <div class="col-4">
                            <div class="form-group">
                                <label for="">User Status</label>
                                <app-vf-custom-select formControlName="userStatus" [values]="userStatus" [isRequired]="'Please Select the status'"></app-vf-custom-select>
                            </div>
                        </div>

                        <!-- <div class="col-4">
                            <div class="form-group">
                                <label for="mobile">Profoma Report</label>
                                <select class="form-control">
                                <option>--select--</option>
                                <option>Pending</option>
                                <option>Recieved</option>
                              </select>
                            </div>
                        </div>

                        <div class="col-4">
                          
                            <div class="form-group">
                                <label for="mobile">Purchase Order Report</label>
                                <select class="form-control">
                                <option>--select--</option>
                                <option>Pending</option>
                                <option>Recieved</option>
                              </select>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="form-group">
                                <label for="mobile">Invoice Report</label>
                                <select class="form-control">
                                <option>--select--</option>
                                <option>Pending</option>
                                <option>Recieved</option>
                              </select>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="form-group">
                                <label for="mobile">Partiall Bill Paid Report</label>
                                <select class="form-control">
                                <option>--select--</option>
                                <option>Pending</option>
                                <option>Recieved</option>
                              </select>
                            </div>
                        </div> -->
                    </div>



                    <div class="row pt-3 pb-3 m-0">
                        <button  class="btn btn-primary mr-3" (click)="OnFilter()" type="submit">Filter</button>
                        <button class="btn btn-primary" (click)="filterTabButtonName = ''" type="submit">Clear</button>


                        <!-- <button class="btn btn-primary download mrg-lft" type="submit">Download</button> -->


                    </div>
                </form>

            </mat-expansion-panel>
        </mat-accordion>
        <button style="float: right;" class="btn btn-primary download download-pad" type="submit" (click)="exportCSV()">Export as CSV</button>
        <!--Material Table-->
        <app-reports-table [dataList] = "dataList" [id] = "id"></app-reports-table>

    </div>
    <!--Reports Tag close-->


</div>
<!--Main tag close-->
<div class="mt-5"></div>
<div class="mt-3"></div>